<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LDP TOOLS - Trang Ch·ªß</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="light-beam"></div>
        <div class="light-beam"></div>
        <div class="light-beam"></div>
    </div>

    <!-- Header -->
    <header class="main-header">
        <div class="menu-icon" id="menuIcon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <a href="home.html" class="logo">LDP TOOLS</a>
        <div class="user-info">
            <span class="username" id="headerUsername">Username</span>
            <div class="balance-box" id="headerBalance">0ƒë</div>
        </div>
    </header>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <ul>
            <li onclick="window.location.href='home.html'">
                <i>üè†</i> Trang ch·ªß
            </li>
            <li onclick="window.location.href='#account'">
                <i>üë§</i> Ki·ªÉm tra t√†i kho·∫£n
            </li>
            <li onclick="window.location.href='deposit.html'">
                <i>üí∞</i> N·∫°p ti·ªÅn
            </li>
            <li onclick="showHistory()">
                <i>üìú</i> L·ªãch s·ª≠ mua
            </li>
            <li id="adminPanelLink" class="hidden" onclick="window.location.href='admin-panel.html'">
                <i>‚öôÔ∏è</i> Control Panel
            </li>
            <li onclick="logout()">
                <i>üö™</i> ƒêƒÉng xu·∫•t
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Welcome Section -->
        <div class="welcome-section">
            <h1 class="welcome-title">Ch√†o m·ª´ng ƒë·∫øn v·ªõi LDP TOOLS</h1>
            <p class="welcome-subtitle">H·ªá th·ªëng c√¥ng c·ª• d·ª± ƒëo√°n T√†i X·ªâu ti√™n ti·∫øn nh·∫•t 2025</p>
        </div>

        <!-- Tools Grid -->
        <div class="tools-grid">
            <!-- Tool V1 Card -->
            <div class="tool-card" onclick="openTool('toolv1')">
                <div class="tool-icon">üé≤</div>
                <h3 class="tool-name">Tool V1</h3>
                <p class="tool-description">
                    D·ª± ƒëo√°n T√†i/X·ªâu d·ª±a tr√™n m·∫´u c·∫ßu v√† t·ªâ l·ªá v·ªã. Ph√¢n t√≠ch x√°c su·∫•t t·ª´ 3 x√∫c x·∫Øc v·ª´a ra.
                </p>
                <div class="tool-status" id="toolv1-status">locked</div>
                <div class="tool-actions">
                    <button class="tool-btn" onclick="event.stopPropagation(); unlockTool('toolv1')">M·ªü kh√≥a</button>
                    <button class="tool-btn" onclick="event.stopPropagation(); showToolInfo('toolv1')">?</button>
                </div>
            </div>

            <!-- Tool MD5 Card -->
            <div class="tool-card" onclick="openTool('toolmd5')">
                <div class="tool-icon">üîê</div>
                <h3 class="tool-name">Tool MD5</h3>
                <p class="tool-description">
                    Gi·∫£i m√£ MD5 ƒë·∫∑c th√π cho T√†i X·ªâu. Chat bot AI v√† tool nh√°y v·ªõi c√¥ng th·ª©c ti√™n ti·∫øn.
                </p>
                <div class="tool-status" id="toolmd5-status">locked</div>
                <div class="tool-actions">
                    <button class="tool-btn" onclick="event.stopPropagation(); unlockTool('toolmd5')">M·ªü kh√≥a</button>
                    <button class="tool-btn" onclick="event.stopPropagation(); showToolInfo('toolmd5')">?</button>
                </div>
            </div>

            <!-- Tool Sicbo Card -->
            <div class="tool-card" onclick="openTool('toolsicbo')">
                <div class="tool-icon">üéØ</div>
                <h3 class="tool-name">Tool Sicbo</h3>
                <p class="tool-description">
                    D·ª± ƒëo√°n 3 m·∫∑t x√≠ ng·∫ßu v√† T√†i/X·ªâu. AI t√≠nh to√°n t·ªâ l·ªá ra b√£o v√† v·ªã ch√≠nh x√°c.
                </p>
                <div class="tool-status" id="toolsicbo-status">locked</div>
                <div class="tool-actions">
                    <button class="tool-btn" onclick="event.stopPropagation(); unlockTool('toolsicbo')">M·ªü kh√≥a</button>
                    <button class="tool-btn" onclick="event.stopPropagation(); showToolInfo('toolsicbo')">?</button>
                </div>
            </div>
        </div>

        <!-- Pricing Section -->
        <div class="pricing-section">
            <h2 class="section-title">B·∫£ng gi√° thu√™ tools</h2>
            <div class="pricing-grid">
                <div class="pricing-card">
                    <div class="pricing-time">30 ph√∫t</div>
                    <div class="pricing-price">10,000 VND</div>
                    <div class="pricing-desc">Th·ª≠ nghi·ªám ng·∫Øn h·∫°n</div>
                </div>
                <div class="pricing-card">
                    <div class="pricing-time">2 gi·ªù</div>
                    <div class="pricing-price">20,000 VND</div>
                    <div class="pricing-desc">Phi√™n ch∆°i d√†i</div>
                </div>
                <div class="pricing-card">
                    <div class="pricing-time">1 ng√†y</div>
                    <div class="pricing-price">50,000 VND</div>
                    <div class="pricing-desc">Ph·ªï bi·∫øn nh·∫•t</div>
                </div>
                <div class="pricing-card">
                    <div class="pricing-time">3 ng√†y</div>
                    <div class="pricing-price">100,000 VND</div>
                    <div class="pricing-desc">Ti·∫øt ki·ªám h∆°n</div>
                </div>
                <div class="pricing-card">
                    <div class="pricing-time">7 ng√†y</div>
                    <div class="pricing-price">150,000 VND</div>
                    <div class="pricing-desc">T·ªëi ∆∞u nh·∫•t</div>
                </div>
            </div>
            <div class="contact-info">
                <p>Li√™n h·ªá mua key: <a href="https://t.me/leducper05" target="_blank">@leducper05</a></p>
            </div>
        </div>
    </main>

    <!-- Unlock Modal -->
    <div id="unlockModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">M·ªü kh√≥a Tool</h3>
                <button class="close-modal" onclick="closeModal('unlockModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Nh·∫≠p Key ƒë·ªÉ m·ªü kh√≥a:</label>
                    <input type="text" class="form-input" id="unlockKey" placeholder="Nh·∫≠p key..." required>
                </div>
                <div class="tool-info" id="unlockToolInfo">
                    <!-- Tool info will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn primary" onclick="submitUnlockKey()">M·ªü kh√≥a</button>
                <button class="modal-btn secondary" onclick="closeModal('unlockModal')">H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Tool Info Modal -->
    <div id="toolInfoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="toolInfoTitle">Th√¥ng tin Tool</h3>
                <button class="close-modal" onclick="closeModal('toolInfoModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div id="toolInfoContent">
                    <!-- Tool info will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeModal('toolInfoModal')">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <div class="notification-icon">‚úì</div>
        <div class="notification-content">
            <div class="notification-title">Th√¥ng b√°o</div>
            <div class="notification-message">Message here</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script>
        // Global variables
        let currentUnlockTool = null;

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üè† Home page initializing...');

            // Check authentication
            const currentUser = checkAuth();
            if (!currentUser) return;

            // Initialize UI
            initializeHeader();
            initializeSidebar();
            updateToolStatuses();

            // Mouse trail effect
            document.addEventListener('mousemove', function(e) {
                const trail = document.createElement('div');
                trail.className = 'mouse-trail';
                trail.style.left = e.pageX - 3 + 'px';
                trail.style.top = e.pageY - 3 + 'px';
                document.body.appendChild(trail);

                setTimeout(() => {
                    trail.remove();
                }, 600);
            });

            console.log('‚úÖ Home page ready');
        });

        // Update tool statuses
        function updateToolStatuses() {
            const currentUser = getCurrentUser();
            if (!currentUser) return;

            const tools = ['toolv1', 'toolmd5', 'toolsicbo'];

            tools.forEach(toolName => {
                const statusEl = document.getElementById(`${toolName}-status`);
                const tool = currentUser.tools[toolName];

                if (!statusEl) return;

                if (checkToolAccess(toolName)) {
                    statusEl.className = 'tool-status active';
                    statusEl.textContent = 'ƒê√£ k√≠ch ho·∫°t';

                    // Show remaining time if applicable
                    if (tool.expiry) {
                        const remaining = getTimeRemaining(tool.expiry);
                        statusEl.textContent = `C√≤n ${remaining}`;
                    }
                } else {
                    statusEl.className = 'tool-status locked';
                    statusEl.textContent = 'Ch∆∞a k√≠ch ho·∫°t';
                }
            });
        }

        // Open tool
        function openTool(toolName) {
            if (!checkToolAccess(toolName)) {
                unlockTool(toolName);
                return;
            }

            // Navigate to tool page
            switch(toolName) {
                case 'toolv1':
                    window.location.href = 'toolv1.html';
                    break;
                case 'toolmd5':
                    window.location.href = 'toolmd5.html';
                    break;
                case 'toolsicbo':
                    window.location.href = 'toolsicbo.html';
                    break;
            }
        }

        // Unlock tool
        function unlockTool(toolName) {
            currentUnlockTool = toolName;

            const modal = document.getElementById('unlockModal');
            const toolInfo = document.getElementById('unlockToolInfo');

            // Update modal content
            let toolDisplayName = '';
            switch(toolName) {
                case 'toolv1':
                    toolDisplayName = 'Tool V1 - D·ª± ƒëo√°n T√†i X·ªâu';
                    break;
                case 'toolmd5':
                    toolDisplayName = 'Tool MD5 - Gi·∫£i m√£ MD5';
                    break;
                case 'toolsicbo':
                    toolDisplayName = 'Tool Sicbo - D·ª± ƒëo√°n 3 x√≠ ng·∫ßu';
                    break;
            }

            toolInfo.innerHTML = `
                <p><strong>Tool:</strong> ${toolDisplayName}</p>
                <p>Nh·∫≠p key ƒë·ªÉ k√≠ch ho·∫°t tool n√†y.</p>
                <p>N·∫øu ch∆∞a c√≥ key, li√™n h·ªá <a href="https://t.me/leducper05" target="_blank">@leducper05</a> ƒë·ªÉ mua.</p>
            `;

            modal.classList.add('active');
            document.getElementById('unlockKey').focus();
        }

        // Submit unlock key
        function submitUnlockKey() {
            const key = document.getElementById('unlockKey').value.trim();

            if (!key) {
                showNotification('Vui l√≤ng nh·∫≠p key!', 'error');
                return;
            }

            if (!currentUnlockTool) {
                showNotification('L·ªói: Kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c tool!', 'error');
                return;
            }

            // Try to activate tool
            const success = activateToolWithKey(currentUnlockTool, key);

            if (success) {
                closeModal('unlockModal');
                document.getElementById('unlockKey').value = '';
                updateToolStatuses();
            }
        }

        // Show tool info
        function showToolInfo(toolName) {
            const modal = document.getElementById('toolInfoModal');
            const title = document.getElementById('toolInfoTitle');
            const content = document.getElementById('toolInfoContent');

            let toolTitle = '';
            let toolContent = '';

            switch(toolName) {
                case 'toolv1':
                    toolTitle = 'Tool V1 - D·ª± ƒëo√°n T√†i X·ªâu';
                    toolContent = `
                        <h4>Ch·ª©c nƒÉng:</h4>
                        <p>Bot y√™u c·∫ßu ng∆∞·ªùi d√πng g·ª≠i s·ªë x√∫c x·∫Øc v·ª´a ra trong game, sau ƒë√≥ t√≠nh x√°c su·∫•t ra T√†i hay X·ªâu d·ª±a tr√™n 3 x√∫c x·∫Øc ƒë√≥.</p>

                        <h4>C√°ch ho·∫°t ƒë·ªông:</h4>
                        <ul>
                            <li>G·ª≠i 3 s·ªë x√∫c x·∫Øc (1-6) cho bot</li>
                            <li>Bot ph√¢n t√≠ch m·∫´u c·∫ßu v√† t√≠nh t·ªâ l·ªá</li>
                            <li>ƒê∆∞a ra d·ª± ƒëo√°n T√†i/X·ªâu v·ªõi ƒë·ªô ch√≠nh x√°c</li>
                            <li>G·ª£i √Ω c√°c v·ªã c√≥ kh·∫£ nƒÉng ra cao</li>
                        </ul>

                        <h4>T√≠nh nƒÉng ƒë·∫∑c bi·ªát:</h4>
                        <ul>
                            <li>T√≠nh x√°c su·∫•t t·ª´ng m·∫∑t x√≠ ng·∫ßu</li>
                            <li>D·ª± ƒëo√°n v·ªã v·ªõi t·ªâ l·ªá th·∫Øng</li>
                            <li>Ghi nh·∫≠n k·∫øt qu·∫£ ƒë√∫ng/sai</li>
                        </ul>
                    `;
                    break;

                case 'toolmd5':
                    toolTitle = 'Tool MD5 - Gi·∫£i m√£ MD5';
                    toolContent = `
                        <h4>Ch·ª©c nƒÉng:</h4>
                        <p>Gi·∫£i m√£ MD5 ƒë·∫∑c th√π cho T√†i X·ªâu, kh√°c v·ªõi MD5 th√¥ng th∆∞·ªùng. S·ª≠ d·ª•ng c√¥ng th·ª©c AI ti√™n ti·∫øn.</p>

                        <h4>C√°ch ho·∫°t ƒë·ªông:</h4>
                        <ul>
                            <li>G·ª≠i m√£ MD5 c·ªßa phi√™n cho bot</li>
                            <li>Bot gi·∫£i m√£ v√† ƒë∆∞a ra d·ª± ƒëo√°n T√†i/X·ªâu</li>
                            <li>Chat bot t∆∞∆°ng t√°c th√¥ng minh</li>
                            <li>Tool nh√°y v·ªõi ƒë√®n t√≠n hi·ªáu</li>
                        </ul>

                        <h4>T√≠nh nƒÉng ƒë·∫∑c bi·ªát:</h4>
                        <ul>
                            <li>Chat bot v·ªõi giao di·ªán th√¢n thi·ªán</li>
                            <li>Tool nh√°y (ƒë√®n xanh/ƒë·ªè)</li>
                            <li>T√πy ch·ªânh m√†u s·∫Øc v√† giao di·ªán</li>
                            <li>L∆∞u l·ªãch s·ª≠ tr√≤ chuy·ªán</li>
                        </ul>
                    `;
                    break;

                case 'toolsicbo':
                    toolTitle = 'Tool Sicbo - D·ª± ƒëo√°n 3 x√≠ ng·∫ßu';
                    toolContent = `
                        <h4>Ch·ª©c nƒÉng:</h4>
                        <p>D·ª± ƒëo√°n 3 m·∫∑t x√≠ ng·∫ßu ti·∫øp theo v√† T√†i/X·ªâu. T√≠nh to√°n t·ªâ l·ªá ra b√£o (3 s·ªë gi·ªëng nhau).</p>

                        <h4>C√°ch ho·∫°t ƒë·ªông:</h4>
                        <ul>
                            <li>G·ª≠i 3 s·ªë x√∫c x·∫Øc v·ª´a ra</li>
                            <li>Bot t√≠nh t·ªâ l·ªá ra 3 s·ªë ti·∫øp theo</li>
                            <li>D·ª± ƒëo√°n T√†i/X·ªâu v√† v·ªã</li>
                            <li>C·∫£nh b√°o t·ªâ l·ªá ra b√£o</li>
                        </ul>

                        <h4>T√≠nh nƒÉng ƒë·∫∑c bi·ªát:</h4>
                        <ul>
                            <li>T√≠nh to√°n t·ªâ l·ªá b√£o ch√≠nh x√°c</li>
                            <li>D·ª± ƒëo√°n 3 m·∫∑t x√≠ ng·∫ßu c·ª• th·ªÉ</li>
                            <li>Ph√¢n t√≠ch x√°c su·∫•t chi ti·∫øt</li>
                            <li>Ghi nh·∫≠n k·∫øt qu·∫£ th·∫Øng/thua</li>
                        </ul>
                    `;
                    break;
            }

            title.textContent = toolTitle;
            content.innerHTML = toolContent;
            modal.classList.add('active');
        }

        // Close modal
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
            }
            currentUnlockTool = null;
        }

        // Show history (placeholder)
        function showHistory() {
            showNotification('T√≠nh nƒÉng ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn...');
        }

        // Handle Enter key in unlock modal
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && document.getElementById('unlockModal').classList.contains('active')) {
                submitUnlockKey();
            }
        });
    </script>
</body>
</html>
